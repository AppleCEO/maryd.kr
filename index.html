<html>
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
        <style>
            body {
                margin: 0;
                padding: 0;
            }

            .top-band {
                width: 100%;
                height: 108px;
                background-color: #500000;
                text-align: center;
            }
            .top-image {
                margin-top: 23px;
            }
            .maryd-logo {
                text-align: center;
                margin-top: 82px;
            }
            .where-jewelry-meets-meaning {
                text-align: center;
                margin-top: 93px;
            }
            .video-thumbnail {
                text-align: center;
                margin-top: 100px;
                position: relative; 
            }
            .video-thumbnail-image {
                width: 525px;
                height: 345px;
                transition: transform 0.1s ease-in-out;
            }
            .dgodic-image {
                position: absolute;
                top: 50%;            
                transform: translateY(-50%);
                right: 80px;
                transition: transform 0.1s ease-in-out, opacity 0.1s ease-in-out;
            }
            .where-imagination-becomes-reality {
                text-align: center;
                margin-top: 100px;                
            }
            .dcursive-image {
                position: absolute;
                left: 80px;
                top: calc(50% - (42px + 48.5px)); /* 42픽셀 상단 + dgodic 이미지의 높이의 반  */
                transition: transform 0.1s ease-in-out, opacity 0.1s ease-in-out;
            }
            .dgodic-image {
                position: absolute;
                top: 50%;            
                transform: translateY(-50%);
                right: 80px;
                transition: transform 0.1s ease-in-out, opacity 0.1s ease-in-out;
            }
            .where-imagination-becomes-reality {
                text-align: center;
                margin-top: 100px;                
            }
            .dcursive-image {
                position: absolute;
                left: 80px;
                top: calc(50% - (42px + 48.5px)); /* 42픽셀 상단 + dgodic 이미지의 높이의 반  */
                transition: transform 0.1s ease-in-out, opacity 0.1s ease-in-out;
            }
        </style>
    </head>
    <body>
        <div class="top-band">
            <img src="images/headerLogo.png" alt="top-image" class="top-image">
        </div>
        <div class="maryd-logo">
            <img src="images/MARY'D.png" alt="MARY'D" class="maryd-logo-image">
        </div>
        <div class="where-jewelry-meets-meaning">
            <img src="images/Where Jewelry Meets Meaning.png" alt="Where Jewelry Meets Meaning" class="where-jewelry-meets-meaning-image">
        </div>
        <div class="video-thumbnail">
            <video src="images/video.mp4" autoplay loop muted playsinline class="video-thumbnail-image"></video>
            <img src="images/DCursive.png" alt="DCursive" class="dcursive-image">
            <img src="images/DGodic.png" alt="DGodic" class="dgodic-image">
        </div>
        <div class="where-imagination-becomes-reality">
            <!-- <img src="images/DCursive.png" alt="DCursive" class="dcursive-image"> -->
            <img src="images/Where imagination becomes reality.png" alt="Where imagination becomes reality" class="where-imagination-becomes-reality-image">
            <!-- <img src="images/DGodic.png" alt="DGodic" class="dgodic-image"> -->
        </div>
        <div class="new-section" style="height: 1307px; background: #662423; text-align: center; padding-top: 515px; box-sizing: border-box;">
            <div><img src="images/We offer an experience beyond jewelry..png" alt="We offer an experience beyond jewelry."></div>
            <div style="margin-top: 20px;"><img src="images/메리드는 단순히 주얼리를 판매하지 않습니다 상상을 현실로 만드는 경험….png" alt="메리드는 단순히 주얼리를 판매하지 않습니다 상상을 현실로 만드는 경험"></div>
        </div>
        <script>
            const dgodicImage = document.querySelector('.dgodic-image');
            const dcursiveImage = document.querySelector('.dcursive-image');
            const video = document.querySelector('.video-thumbnail-image');
            const videoContainer = document.querySelector('.video-thumbnail');

            const dgodicInitialRect = dgodicImage.getBoundingClientRect();
            const dcursiveInitialRect = dcursiveImage.getBoundingClientRect();
            const initialGap = dgodicInitialRect.left - dcursiveInitialRect.right;
            const meetingMoveAmount = initialGap / 2 - 50;

            let disappearanceTimeout = null;
            let hasMetAndWaiting = false;
            let hasDisappeared = false;

            const endScroll = meetingMoveAmount / 1.5;
            const videoContainerTop = videoContainer.offsetTop;
            const startScroll = videoContainerTop - window.innerHeight / 2; // Start a bit later

            const finalScaleX = window.innerWidth / 525;
            const finalScaleY = window.innerHeight / 345;


            window.addEventListener('scroll', () => {
                const scrollY = window.scrollY;
                const moveAmount = scrollY * 1.5;

                // Image animation
                if (moveAmount >= meetingMoveAmount) {
                    dcursiveImage.style.transform = `translateX(${meetingMoveAmount}px)`;
                    dgodicImage.style.transform = `translateY(-50%) translateX(-${meetingMoveAmount}px)`;
                    
                    if (!hasMetAndWaiting && !hasDisappeared) {
                        hasMetAndWaiting = true;
                        if (disappearanceTimeout) {
                            clearTimeout(disappearanceTimeout);
                        }
                        disappearanceTimeout = setTimeout(() => {
                            dgodicImage.style.opacity = '0';
                            dcursiveImage.style.opacity = '0';
                            hasDisappeared = true;
                            hasMetAndWaiting = false;
                        }, 1000);
                    }
                    
                    if (!hasDisappeared) {
                        dgodicImage.style.opacity = '1';
                        dcursiveImage.style.opacity = '1';
                    }

                } else {
                    dcursiveImage.style.transform = `translateX(${moveAmount}px)`;
                    dgodicImage.style.transform = `translateY(-50%) translateX(-${moveAmount}px)`;
                    dgodicImage.style.opacity = '1';
                    dcursiveImage.style.opacity = '1';

                    if (disappearanceTimeout) {
                        clearTimeout(disappearanceTimeout);
                        disappearanceTimeout = null;
                    }
                    hasMetAndWaiting = false;
                    hasDisappeared = false;
                }

                // Video scaling
                if (scrollY >= startScroll && scrollY <= endScroll) {
                    const scrollFraction = (scrollY - startScroll) / (endScroll - startScroll);
                    const scaleX = 1 + (finalScaleX - 1) * scrollFraction;
                    const scaleY = 1 + (finalScaleY - 1) * scrollFraction;
                    video.style.transform = `scaleX(${scaleX}) scaleY(${scaleY})`;
                } else if (scrollY < startScroll) {
                    video.style.transform = 'scale(1)';
                } else { // scrollY > endScroll
                    video.style.transform = `scaleX(${finalScaleX}) scaleY(${finalScaleY})`;
                }
            });
        </script>
    </body>
</html>